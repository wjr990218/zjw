"use strict";var num=!1;function createCookie(e,n,a){var s,t=encodeURIComponent(e)+"="+encodeURIComponent(n);isNaN(a.expires)||((s=new Date).setDate(s.getDate()+a.expires),t+=";expires="+s),a.domain&&(t+=";domain="+a.domain),a.path&&(t+=";path="+a.path),a.secure&&(t+=";secure"),document.cookie=t}function $Cookie(e){for(var n=document.cookie.split("; "),a=0,s=n.length;a<s;a++){var t=n[a].split("=");if(encodeURIComponent(e)===t[0])return decodeURIComponent(t[1])}}$("#uname").on("input",function(){var e=$("#uname").val();/^\w{6,10}$/i.test(e)?($("#uname").parent().find("span").html("√"),$("#uname").parent().find("span").css({color:"green"}),num=!0):($("#uname").parent().find("span").html("(6-10位数字字母下划线)"),$("#uname").parent().find("span").css({color:"red"}))}),$("#pas").on("input",function(){var e=$("#pas").val();/^\w{6,10}$/i.test(e)?($("#pas").parent().find("span").html("√"),$("#pas").parent().find("span").css({color:"green"}),num=!0):($("#pas").parent().find("span").html("(6-10位数字字母下划线)"),$("#pas").parent().find("span").css({color:"red"}))}),$("#pas2").on("input",function(){$("#pas2").val()==$("#pas").val()?($("#pas2").parent().find("span").html("√"),$("#pas2").parent().find("span").css({color:"green"}),num=!0):($("#pas2").parent().find("span").html("(两次密码不一致)"),$("#pas2").parent().find("span").css({color:"red"}))}),$("#but").on("click",function(){if(num){var e={uname:$("#uname").val(),pass:$("#pas").val()},n=[];if($Cookie("name")){for(var a=JSON.parse($Cookie("name")),s=!0,t=0;t<a.length;t++)e.uname==a[t].uname&&(alert("账号已存在"),s=!1);s&&(a.push(e),createCookie("name",JSON.stringify(a),{expires:7}),createCookie("state",JSON.stringify(e),{expires:7}),location.assign("index.html"))}else n.push(e),createCookie("name",JSON.stringify(n),{expires:7}),createCookie("state",JSON.stringify(e),{expires:7}),location.assign("index.html")}else alert("格式错误")});