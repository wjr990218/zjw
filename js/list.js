"use strict";function _createForOfIteratorHelper(t,r){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}$(".header").load("public.html #header",function(){qwe(),$(".li2").on("click",function(){location.assign("shopcar.html")}),shopcart()}),$.get("data/list.json",function(t){var r;r=""!=localStorage.index&&localStorage.index.split(",");var n="",e=new Set,a=[],o=[],l=new Set;for(var c in r){var i='\n\t\t<a href="list.html" class="scr_rem">>> <span>'.concat(r[c],"</span></a>\t\t");$(".scr_l").html($(".scr_l").html()+i)}for(var s=0;s<t.length;s++){if(t[s].num=0,!r){for(var f in n+='\n\t\t\t\t<div class="box" order="'.concat(t[s]["条形码"],'">\n\t\t\t\t\t<img src="').concat(t[s].img,'" >\n\t\t\t\t\t<p>￥').concat(t[s].price,"</p>\n\t\t\t\t\t<span>").concat(t[s].name,"</span>\n\t\t\t\t</div>\n\t\t\t"),t[s])e.add(f);o=t}for(var u in t[s])for(var d=0;d<r.length;d++)t[s][u]==r[d]?(t[s].num++,a.push(u)):e.add(u),t[s].num==r.length&&(l.add(s),o.push(t[s]))}var p,h=_createForOfIteratorHelper(l.keys());try{for(h.s();!(p=h.n()).done;){var m=p.value;n+='\n\t\t<div class="box" order="'.concat(t[m]["条形码"],'">\n\t\t\t<img src="').concat(t[m].img,'" >\n\t\t\t<p>￥').concat(t[m].price,"</p>\n\t\t\t<span>").concat(t[m].name,"</span>\n\t\t</div>\n\t\t")}}catch(t){h.e(t)}finally{h.f()}for(var v in a)e.has(a[v])&&e.delete(a[v]);var y,g=1,b=_createForOfIteratorHelper(e.keys());try{for(b.s();!(y=b.n()).done;){var S=y.value;if(5<=g){for(var x="",_="",A=[],k=0;k<o.length;k++)o[k][S]&&(-1!=A.indexOf(o[k][S])||"num"!=S&&(A.push(o[k][S]),_="<li>\n\t\t\t\t\t\t\t\t<span>".concat(S,"</span>"),x+='<a href="list.html" class ="scr_add">'.concat(o[k][S],"</a>")));x+="</li>",$("#br-top").html($("#br-top").html()+_+x)}g++}}catch(t){b.e(t)}finally{b.f()}$(".br-bot").html(n),n||$(".br-bot").html("商品尚未添加，敬请期待")}).then(function(){$(".scr_rem").on("click",function(){var t=localStorage.index.split(","),r=t.indexOf($(this).find("span").html());t.splice(r,1),localStorage.index=t}),$(".scr_add").on("click",function(){var t;console.log(localStorage.index),(t=""!=localStorage.index?localStorage.index.split(","):[]).push(this.innerHTML),localStorage.index=t}),$(".box").on("click",function(){location.assign("details.html"),localStorage.order=$(this).attr("order")})});